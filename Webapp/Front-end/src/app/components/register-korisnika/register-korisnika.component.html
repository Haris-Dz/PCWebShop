<div class="container text-center">
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLiveLabel">Register</h5>
  </div>
  <div class="modal-body">
    <div class="row">
      <!-- First column -->
      <div class="col-md-6">
        <!-- Username -->
        <div class="form-outline mb-4">
          <input [(ngModel)]="pripremikorisnik.korisnickoIme" type="text" id="form2Example1" class="form-control" />
          <label class="form-label" for="form2Example1">Username</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.korisnickoIme }}</div>
        </div>

        <!-- First Name -->
        <div class="form-outline mb-4">
          <input [(ngModel)]="pripremikorisnik.ime" type="text" id="form2Example1e" class="form-control" />
          <label class="form-label" for="form2Example1e">First Name</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.ime }}</div>
        </div>

        <!-- Last Name -->
        <div class="form-outline mb-4">
          <input [(ngModel)]="pripremikorisnik.prezime" type="text" id="form2Example1ae" class="form-control" />
          <label class="form-label" for="form2Example1ae">Last Name</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.prezime }}</div>
        </div>

        <!-- Email -->
        <div class="form-outline mb-4">
          <input
            [(ngModel)]="pripremikorisnik.email"
            type="email"
            id="form2Example1aes"
            class="form-control"
            placeholder="example@example.com"
            #emailInput="ngModel"
            required
            email
          />
          <label class="form-label" for="form2Example1aes">Email</label>
          <div class="text-danger" style="min-height: 1rem;">
            <span *ngIf="emailInput.errors?.['email']">Please enter a valid email address.</span>
          </div>
        </div>
      </div>

      <!-- Second column -->
      <div class="col-md-6">
        <!-- Mobile Number -->
        <div class="form-outline mb-4">
          <div class="input-group">
            <span class="input-group-text">+387</span>
            <input
              [(ngModel)]="pripremikorisnik.brojMobitela"
              type="text"
              id="form2Example1mob"
              class="form-control"
              (input)="validateMobileNumber($event)"
              maxlength="15"
            />
          </div>
          <label class="form-label" for="form2Example1mob">Mobile Number</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.brojMobitela }}</div>
        </div>

        <!-- City -->
        <div class="form-outline mb-4">
          <select [(ngModel)]="pripremikorisnik.gradId" class="form-control">
            <option *ngFor="let g of gradovi" [value]="g.id">{{ g.naziv }}</option>
          </select>
          <label class="form-label">City</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.gradId }}</div>
        </div>

        <!-- Password -->
        <div class="form-outline mb-4">
          <div class="input-group">
            <input
              [(ngModel)]="pripremikorisnik.lozinka"
              [type]="showPassword ? 'text' : 'password'"
              id="form2Example2"
              class="form-control"
              (input)="validatePassword(pripremikorisnik.lozinka)"
            />
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="showPassword = !showPassword"
            >
              <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
            </button>
          </div>
          <label class="form-label" for="form2Example2">Password</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.lozinka }}</div>
        </div>

        <!-- Confirm Password -->
        <div class="form-outline mb-4">
          <div class="input-group">
            <input
              [(ngModel)]="passwordprovjera"
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="form2Example24"
              class="form-control"
            />
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="showConfirmPassword = !showConfirmPassword"
            >
              <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
            </button>
          </div>
          <label class="form-label" for="form2Example24">Confirm Password</label>
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.passwordprovjera }}</div>
        </div>

        <!-- Image input -->
        <div class="mb-3">
          <label class="form-label">New Image</label>
          <input class="form-control" id="slika-input" type="file" accept="image/*" (change)="generisi_preview()" />
          <div class="text-danger" style="min-height: 1rem;">{{ validationErrors.slika }}</div>
          <img *ngIf="pripremikorisnik?.slika_base64_format" style="max-width: 100%; height: 200px; margin-top: 1rem;" [src]="pripremikorisnik?.slika_base64_format" />
        </div>
      </div>
    </div>
    <button (click)="registruj()" type="button" class="btn btn-primary btn-block mb-4">Register</button>
  </div>
</div>
